{"version":3,"sources":["../../package.json","../../src/bin/index.ts"],"sourcesContent":["{\n  \"name\": \"yhr\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"commandName\": \"yhr\",\n  \"bin\": {\n    \"yhr\": \"lib/bin/index.js\"\n  },\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"dev\": \"tsup --watch\",\n    \"build\": \"tsup\"\n  },\n  \"files\": [\n    \"lib\"\n  ],\n  \"type\": \"module\",\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"packageManager\": \"pnpm@10.14.0\",\n  \"devDependencies\": {\n    \"@types/node\": \"^24.3.0\",\n    \"tsup\": \"^8.5.0\"\n  },\n  \"dependencies\": {\n    \"commander\": \"^14.0.0\",\n    \"module-alias\": \"^2.2.3\",\n    \"typescript\": \"^5.9.2\"\n  },\n  \"_moduleAliases\": {\n    \"@\": \"./src/bin/\"\n  }\n}\n","#!/usr/bin/env node\n\nimport * as path from \"path\";\nimport { fileURLToPath } from 'url';\nimport alias from \"module-alias\";\nimport { Command } from 'commander';\nconst packageConfig = (await import(\"../../package.json\")).default\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\nalias(path.resolve(__dirname, \"../../\"));\nconst program = new Command(packageConfig.commandName);\nexport interface ICommand {\n  description: string\n  command: string\n  action: (value?: any) => void\n}\nexport interface IOption {\n  command: string\n  value: ((value?: any) => string) | string\n}\nexport const commandConfig: ICommand[] = [\n  {\n    description: 'test',\n    command: 'test',\n    action: () => {\n      console.log('test');\n    }\n  },\n  {\n    description: 'version',\n    command: 'v',\n    action: () => {\n      console.log(packageConfig.version);\n    }\n  },\n  {\n    description: 'gerrit push ',\n    command: 'grp',\n    action: () => {\n      // console.log('gerrit push ');\n    }\n  }\n]\nconst optionsConfig: IOption[] = [\n  {\n    command: '-a',\n    value: (value) => {\n      return packageConfig.version;\n    }\n  }\n]\nconst initOptions = (commandConfig: IOption[]) => {\n  commandConfig.forEach(config => {\n    const { command, value } = config\n    if (typeof value === 'function') {\n      program.option(command, value())\n    } else {\n      program.option(command, value)\n    }\n  })\n}\nconst initCommand = (commandConfig: ICommand[]) => {\n  commandConfig.forEach(config => {\n    const { description, command, action } = config\n    program\n      .description(description)\n      .command(command)\n      .action((value) => {\n        action(value)\n      })\n  })\n\n}\nconst init = () => {\n  initOptions(optionsConfig)\n  initCommand(commandConfig);\n  program.version(packageConfig.version, '-v, --vers', 'output the current version');\n}\ninit()\nprogram.parse(process.argv);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,MACE,MAAQ;AAAA,MACR,SAAW;AAAA,MACX,aAAe;AAAA,MACf,MAAQ;AAAA,MACR,aAAe;AAAA,MACf,KAAO;AAAA,QACL,KAAO;AAAA,MACT;AAAA,MACA,SAAW;AAAA,QACT,MAAQ;AAAA,QACR,KAAO;AAAA,QACP,OAAS;AAAA,MACX;AAAA,MACA,OAAS;AAAA,QACP;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,MACR,UAAY,CAAC;AAAA,MACb,QAAU;AAAA,MACV,SAAW;AAAA,MACX,gBAAkB;AAAA,MAClB,iBAAmB;AAAA,QACjB,eAAe;AAAA,QACf,MAAQ;AAAA,MACV;AAAA,MACA,cAAgB;AAAA,QACd,WAAa;AAAA,QACb,gBAAgB;AAAA,QAChB,YAAc;AAAA,MAChB;AAAA,MACA,gBAAkB;AAAA,QAChB,KAAK;AAAA,MACP;AAAA,IACF;AAAA;AAAA;;;AChCA,YAAY,UAAU;AACtB,SAAS,qBAAqB;AAC9B,OAAO,WAAW;AAClB,SAAS,eAAe;AACxB,IAAM,iBAAiB,MAAM,6DAA8B;AAC3D,IAAM,aAAa,cAAc,YAAY,GAAG;AAChD,IAAM,YAAiB,aAAQ,UAAU;AACzC,MAAW,aAAQ,WAAW,QAAQ,CAAC;AACvC,IAAM,UAAU,IAAI,QAAQ,cAAc,WAAW;AAU9C,IAAM,gBAA4B;AAAA,EACvC;AAAA,IACE,aAAa;AAAA,IACb,SAAS;AAAA,IACT,QAAQ,MAAM;AACZ,cAAQ,IAAI,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EACA;AAAA,IACE,aAAa;AAAA,IACb,SAAS;AAAA,IACT,QAAQ,MAAM;AACZ,cAAQ,IAAI,cAAc,OAAO;AAAA,IACnC;AAAA,EACF;AAAA,EACA;AAAA,IACE,aAAa;AAAA,IACb,SAAS;AAAA,IACT,QAAQ,MAAM;AAAA,IAEd;AAAA,EACF;AACF;AACA,IAAM,gBAA2B;AAAA,EAC/B;AAAA,IACE,SAAS;AAAA,IACT,OAAO,CAAC,UAAU;AAChB,aAAO,cAAc;AAAA,IACvB;AAAA,EACF;AACF;AACA,IAAM,cAAc,CAACA,mBAA6B;AAChD,EAAAA,eAAc,QAAQ,YAAU;AAC9B,UAAM,EAAE,SAAS,MAAM,IAAI;AAC3B,QAAI,OAAO,UAAU,YAAY;AAC/B,cAAQ,OAAO,SAAS,MAAM,CAAC;AAAA,IACjC,OAAO;AACL,cAAQ,OAAO,SAAS,KAAK;AAAA,IAC/B;AAAA,EACF,CAAC;AACH;AACA,IAAM,cAAc,CAACA,mBAA8B;AACjD,EAAAA,eAAc,QAAQ,YAAU;AAC9B,UAAM,EAAE,aAAa,SAAS,OAAO,IAAI;AACzC,YACG,YAAY,WAAW,EACvB,QAAQ,OAAO,EACf,OAAO,CAAC,UAAU;AACjB,aAAO,KAAK;AAAA,IACd,CAAC;AAAA,EACL,CAAC;AAEH;AACA,IAAM,OAAO,MAAM;AACjB,cAAY,aAAa;AACzB,cAAY,aAAa;AACzB,UAAQ,QAAQ,cAAc,SAAS,cAAc,4BAA4B;AACnF;AACA,KAAK;AACL,QAAQ,MAAM,QAAQ,IAAI;","names":["commandConfig"]}